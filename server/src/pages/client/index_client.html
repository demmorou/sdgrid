<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta http-equiv="Content-Language" content="pt-br">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="/socket.io/socket.io.js"></script>
    <title>SD-Grid - Cliente</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="#">SD-Grid</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </nav>
    <div class="container mt-3">
            <form action='sdgrid/file/upload' method='post' encType="multipart/form-data">
                <div class="jumbotron">
                    <div class="form-group">
                        <label for="email">Endereço de Email</label>
                        <input name="email" type="email" class="form-control" id="email" aria-describedby="emailHelp"
                            placeholder="Digite seu email">
                        <small id="emailHelp" class="form-text text-muted">Seu email não será compartilhado.</small>
                    </div>
                    <div class="form-group mt-4">
                        <input name="file" type="file" class="form-control-file" id="file">
                        <button type="submit" class="mt-4 btn btn-primary">Enviar</button>
                    </div>
                </div>
            </form>
    </div>
    
    <script type="text/javascript">
        
        $(() => {
            $("#send").click( () => {
                sendData({ email: $("#email").val(), file: $("#file").val() });
            });
        });
        
        function addMessages(message){
            $("#messages").append(`
            <div class="p-3 mb-2 bg-secondary text-white">${message.clientIp}</div>`)
        }

        function sendData(data){
            $.post('http://10.180.58.181:1095/send', data);
        }

    </script>
</body>

</html>